<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>BrainByte - Learn, Earn & Redeem!</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    :root {
      --primary: #6a11cb;
      --primary-dark: #4a0082;
      --secondary: #00bfff;
      --success: #2ecc71;
      --warning: #f39c12;
      --dark: #0f0c29;
      --darker: #0a081a;
      --light: #f8f9ff;
      --card-bg: rgba(255, 255, 255, 0.08);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background: linear-gradient(135deg, var(--darker), var(--dark));
      color: white;
      min-height: 100vh;
      padding-bottom: 40px;
    }

    h1, h2, h3, h4 {
      font-family: "Comic Sans MS", cursive;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 0;
      margin-bottom: 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .logo {
      font-size: 1.8rem;
      font-weight: bold;
      background: linear-gradient(90deg, var(--secondary), var(--primary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .wallet {
      display: flex;
      align-items: center;
      gap: 8px;
      background: rgba(0,0,0,0.3);
      padding: 8px 16px;
      border-radius: 20px;
      font-weight: bold;
    }

    .wallet i { color: gold; }

    .tabs {
      display: flex;
      gap: 15px;
      margin: 20px 0;
      flex-wrap: wrap;
    }

    .tab-btn {
      background: var(--card-bg);
      border: none;
      color: #ccc;
      padding: 10px 20px;
      border-radius: 30px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s;
    }

    .tab-btn.active {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
    }

    /* Voucher Panels */
    .voucher-panel {
      background: var(--card-bg);
      padding: 25px;
      border-radius: 20px;
      margin: 20px 0;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .voucher-form {
      display: flex;
      gap: 12px;
      margin-top: 15px;
      flex-wrap: wrap;
    }

    .voucher-form input, .voucher-form button {
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #4a0082;
      background: rgba(10,5,20,0.6);
      color: white;
    }

    .voucher-form input {
      flex: 1;
      min-width: 200px;
    }

    .btn-action {
      background: var(--success);
      color: white;
      border: none;
      font-weight: bold;
      cursor: pointer;
      white-space: nowrap;
    }

    .btn-primary {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: white;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }

    .voucher-info {
      margin-top: 20px;
      padding-top: 15px;
      border-top: 1px dashed rgba(255,255,255,0.2);
      display: none;
    }

    .voucher-info.active {
      display: block;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      font-size: 1rem;
    }

    .info-label { color: #aaa; }
    .info-value { font-weight: bold; }
    .info-value.amount { color: gold; font-size: 1.2rem; }

    /* History Table */
    .history-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 15px;
    }

    .history-table th, .history-table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .history-table th {
      color: #aaa;
      font-weight: 600;
    }

    /* Teacher Dashboard */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .stat-card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 15px;
      text-align: center;
    }

    .stat-value {
      font-size: 2rem;
      font-weight: bold;
      margin: 10px 0;
      background: linear-gradient(90deg, var(--secondary), var(--primary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .form-group {
      margin: 15px 0;
    }

    .form-group label {
      display: block;
      margin-bottom: 6px;
      font-weight: 600;
    }

    .form-group input, .form-group select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      background: rgba(10,5,20,0.6);
      border: 1px solid #4a0082;
      color: white;
    }

    /* Marketplace */
    .marketplace-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 20px;
    }

    .item-card {
      background: var(--card-bg);
      border-radius: 18px;
      overflow: hidden;
      transition: all 0.3s;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .item-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 25px rgba(0,0,0,0.4);
    }

    .item-image {
      height: 140px;
      background: linear-gradient(135deg, var(--secondary), var(--primary));
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
    }

    .item-info {
      padding: 18px;
    }

    .item-title {
      font-weight: 700;
      margin-bottom: 8px;
      font-size: 1.15rem;
    }

    .item-seller {
      font-size: 0.95rem;
      color: #4fc3f7;
      margin-bottom: 10px;
      font-weight: 600;
    }

    .item-desc {
      font-size: 0.9rem;
      color: #bbb;
      margin-bottom: 12px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .item-price {
      display: flex;
      align-items: center;
      gap: 5px;
      color: gold;
      font-weight: bold;
    }

    .btn-buy {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      font-weight: bold;
      cursor: pointer;
    }

    .hidden { display: none; }

    /* Floating Emojis (ORIGINAL SET ONLY) */
    .floating-emoji {
      position: fixed;
      font-size: 1.3rem;
      pointer-events: none;
      opacity: 0.7;
      z-index: -1;
      animation: float 20s infinite linear;
    }

    @keyframes float {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
    }

    /* QR Placeholder */
    .qr-placeholder {
      width: 160px;
      height: 160px;
      background: rgba(0,0,0,0.3);
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 15px auto;
      color: #aaa;
      font-size: 0.9rem;
      text-align: center;
    }
  </style>
</head>
<body>
  <!-- Floating Emojis (ORIGINAL SET ONLY) -->
  <div id="emoji-container"></div>

  <div class="container">
    <header>
      <div class="logo">üß† BrainByte</div>
      <div class="wallet">
        <i class="fas fa-coins"></i>
        <span id="wallet-balance">420 Brainbits</span>
      </div>
    </header>

    <!-- Role Toggle -->
    <div style="text-align:center; margin:15px 0;">
      <button id="role-toggle" class="btn-action" style="padding:6px 15px; font-size:0.9rem;">
        Switch to Teacher Mode
      </button>
    </div>

    <!-- STUDENT VIEW -->
    <div id="student-view">
      <!-- Voucher Redemption -->
      <div class="voucher-panel">
        <h3><i class="fas fa-ticket-alt"></i> Redeem Voucher</h3>
        <p>Enter code or scan QR to claim Brainbits!</p>
       
        <div class="voucher-form">
          <input type="text" id="voucher-code" placeholder="e.g., BB-TEACHER-2024" />
          <button class="btn-action" id="redeem-btn">Redeem</button>
        </div>

        <div class="qr-placeholder">
          <div>
            <i class="fas fa-qrcode" style="font-size:2rem; margin-bottom:8px;"></i><br>
            Scan QR Code<br>
            <small>(Mock: click to simulate)</small>
          </div>
        </div>

        <div class="voucher-info" id="voucher-info">
          <div class="info-row">
            <span class="info-label">Amount:</span>
            <span class="info-value amount" id="voucher-amount">150 Brainbits</span>
          </div>
          <div class="info-row">
            <span class="info-label">From:</span>
            <span class="info-value" id="voucher-issuer">Ms. Johnson</span>
          </div>
        </div>
      </div>

      <!-- Voucher History -->
      <div class="voucher-panel">
        <h3><i class="fas fa-history"></i> Voucher History</h3>
        <table class="history-table">
          <thead>
            <tr>
              <th>Code</th>
              <th>Amount</th>
              <th>From</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody id="history-body">
            <tr>
              <td>BB-TEACHER-2024</td>
              <td>150 ü™ô</td>
              <td>Ms. Johnson</td>
              <td>Dec 9, 2025</td>
            </tr>
            <tr>
              <td>BB-TOPSTUDENT</td>
              <td>200 ü™ô</td>
              <td>Dr. Lee</td>
              <td>Dec 5, 2025</td>
            </tr>
          </tbody>
        </table>
      </div>

      <!-- Marketplace -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="browse">Marketplace</button>
        <button class="tab-btn" data-tab="sell">Sell</button>
      </div>

      <div id="browse-tab">
        <div class="marketplace-grid" id="marketplace-items"></div>
      </div>
      <div id="sell-tab" class="hidden">
        <div class="voucher-panel">
          <h3>Sell Your Resource</h3>
          <div class="form-group">
            <label>Title</label>
            <input type="text" placeholder="e.g., IGCSE Chemistry Notes" />
          </div>
          <div class="form-group">
            <label>Your Name (e.g., Chrissymwah)</label>
            <input type="text" placeholder="How should we credit you?" />
          </div>
          <div class="form-group">
            <label>Price (Brainbits)</label>
            <input type="number" min="10" placeholder="150" />
          </div>
          <button class="btn-primary" style="width:100%;">List Item</button>
        </div>
      </div>
    </div>

    <!-- TEACHER VIEW -->
    <div id="teacher-view" class="hidden">
      <h2 style="margin-bottom:20px; text-align:center;">‚ú® Teacher Dashboard</h2>
     
      <div class="dashboard-grid">
        <div class="stat-card">
          <div>Active Students</div>
          <div class="stat-value">24</div>
        </div>
        <div class="stat-card">
          <div>Vouchers Issued</div>
          <div class="stat-value">18</div>
        </div>
        <div class="stat-card">
          <div>Top Earner</div>
          <div class="stat-value">Alex J.</div>
        </div>
      </div>

      <div class="voucher-panel" style="margin-top:30px;">
        <h3><i class="fas fa-gift"></i> Issue New Voucher</h3>
        <div class="form-group">
          <label>Student Name</label>
          <input type="text" id="student-name" placeholder="e.g., Chrissymwah" />
        </div>
        <div class="form-group">
          <label>Amount (Brainbits)</label>
          <input type="number" id="voucher-amount-input" min="10" value="100" />
        </div>
        <div class="form-group">
          <label>Reason</label>
          <select id="voucher-reason">
            <option>Top in Class</option>
            <option>Passed Exam</option>
            <option>Helped Classmates</option>
            <option>Improved Grade</option>
          </select>
        </div>
        <button class="btn-primary" id="issue-voucher" style="width:100%;">Generate Voucher</button>
       
        <div id="voucher-output" class="voucher-info" style="margin-top:20px; display:none;">
          <div class="info-row">
            <span class="info-label">Voucher Code:</span>
            <span class="info-value" id="generated-code">BB-XXXXXX</span>
          </div>
          <div class="info-row">
            <span class="info-label">Share via:</span>
            <span class="info-value">
              <button class="btn-action" style="padding:5px 10px; font-size:0.9rem; margin-right:8px;">
                <i class="fas fa-copy"></i> Copy
              </button>
              <button class="btn-action" style="padding:5px 10px; font-size:0.9rem;">
                <i class="fas fa-qrcode"></i> QR
              </button>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Floating Emojis ‚Äî ORIGINAL SET ONLY
    const emojis = ['üß†','üìö','üéì','‚ú®','üöÄ','‚≠ê','üí°','üèÜ','üìñ','üéØ','üî¨','üß™','‚öõÔ∏è','üß¨'];
    const container = document.getElementById('emoji-container');
    for (let i = 0; i < 20; i++) {
      const el = document.createElement('div');
      el.className = 'floating-emoji';
      el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
      el.style.left = Math.random() * 100 + 'vw';
      el.style.animationDelay = Math.random() * 10 + 's';
      el.style.fontSize = (1 + Math.random() * 0.8) + 'rem';
      container.appendChild(el);
    }

    // Wallet balance ‚Äî NOW IN "Brainbits"
    let brainbits = 420;
    const walletEl = document.getElementById('wallet-balance');
    function updateWallet(amount) {
      brainbits += amount;
      walletEl.textContent = brainbits + ' Brainbits';
    }

    // MARKETPLACE ITEMS ‚Äî TUTORS GET EMOJI, CURRENCY = Brainbits
    const items = [
      {
        title: "IGCSE Chemistry Revision Pack",
        seller: "By Chrissymwah",
        desc: "Full topic summaries, diagrams, and practice questions",
        price: 150,
        type: "bundle"
      },
      {
        title: "A-Level Math Past Papers (2020-2023)",
        seller: "By Prof. Khan",
        desc: "All papers with model solutions",
        price: 200,
        type: "papers"
      },
      {
        title: "1:1 Physics Tutoring (30 min)",
        seller: "By Dr. Lee üë©‚Äçüè´",   // ‚úÖ TUTOR GETS EMOJI
        desc: "Personalized session on any topic",
        price: 300,
        type: "tutoring"
      },
      {
        title: "IB Biology Syllabus Guide",
        seller: "By Maria S.",
        desc: "Condensed notes aligned with 2024 syllabus",
        price: 120,
        type: "guide"
      }
    ];

    const grid = document.getElementById('marketplace-items');
    items.forEach(item => {
      const card = document.createElement('div');
      card.className = 'item-card';
      card.innerHTML = `
        <div class="item-image">${item.type === 'tutoring' ? 'üë©‚Äçüè´' : 'üìö'}</div>
        <div class="item-info">
          <div class="item-title">${item.title}</div>
          <div class="item-seller">${item.seller}</div>
          <div class="item-desc">${item.desc}</div>
          <div class="item-price"><i class="fas fa-coins"></i> ${item.price} Brainbits</div>
          <button class="btn-buy">Buy Now</button>
        </div>
      `;
      grid.appendChild(card);
    });

    // Tab Navigation
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.querySelectorAll('[id$="-tab"]').forEach(t => t.classList.add('hidden'));
        btn.classList.add('active');
        document.getElementById(btn.dataset.tab + '-tab').classList.remove('hidden');
      });
    });

    // Voucher Redemption ‚Äî NOW IN "Brainbits"
    const validVouchers = {
      'BB-TEACHER-2024': { amount: 150, issuer: 'Ms. Johnson' },
      'BB-TOPSTUDENT': { amount: 200, issuer: 'Dr. Lee' },
      'BB-EXAMWINNER': { amount: 300, issuer: 'Mr. Carter' }
    };

    document.getElementById('redeem-btn').addEventListener('click', redeemVoucher);
    document.querySelector('.qr-placeholder').addEventListener('click', () => {
      document.getElementById('voucher-code').value = 'BB-TOPSTUDENT';
      redeemVoucher();
    });

    function redeemVoucher() {
      const code = document.getElementById('voucher-code').value.trim().toUpperCase();
      const info = document.getElementById('voucher-info');
     
      if (!code) {
        alert('Enter a voucher code!');
        return;
      }

      if (validVouchers[code]) {
        const v = validVouchers[code];
        document.getElementById('voucher-amount').textContent = v.amount + ' Brainbits';
        document.getElementById('voucher-issuer').textContent = v.issuer;
        info.classList.add('active');
       
        setTimeout(() => {
          alert(`üéâ ${v.amount} Brainbits added to your wallet!`);
          updateWallet(v.amount);
         
          const now = new Date().toLocaleDateString();
          const row = `<tr>
            <td>${code}</td>
            <td>${v.amount} ü™ô</td>
            <td>${v.issuer}</td>
            <td>${now}</td>
          </tr>`;
          document.getElementById('history-body').innerHTML = row + document.getElementById('history-body').innerHTML;
         
          info.classList.remove('active');
          document.getElementById('voucher-code').value = '';
        }, 800);
      } else {
        alert('‚ùå Invalid voucher code. Please check and try again.');
      }
    }

    // Teacher Mode Toggle
    let isTeacher = false;
    document.getElementById('role-toggle').addEventListener('click', () => {
      isTeacher = !isTeacher;
      document.getElementById('student-view').classList.toggle('hidden', isTeacher);
      document.getElementById('teacher-view').classList.toggle('hidden', !isTeacher);
      document.getElementById('role-toggle').textContent = isTeacher ?
        'Switch to Student Mode' : 'Switch to Teacher Mode';
    });

    // Issue Voucher ‚Äî IN "Brainbits"
    document.getElementById('issue-voucher').addEventListener('click', () => {
      const student = document.getElementById('student-name').value.trim();
      const amount = parseInt(document.getElementById('voucher-amount-input').value);
     
      if (!student || !amount) {
        alert('Please fill all fields!');
        return;
      }

      const code = 'BB-' + Math.random().toString(36).substr(2, 8).toUpperCase();
      document.getElementById('generated-code').textContent = code;
      document.getElementById('voucher-output').style.display = 'block';
     
      alert(`‚úÖ Voucher created for ${student}!\nCode: ${code}\nAmount: ${amount} Brainbits`);
    });

    // Copy button
    document.querySelectorAll('.btn-action').forEach(btn => {
      if (btn.querySelector('.fa-copy')) {
        btn.addEventListener('click', () => {
          const code = document.getElementById('generated-code').textContent;
          navigator.clipboard.writeText(code).then(() => {
            alert('Voucher code copied!');
          });
        });
      }
    });

    // Buy buttons
    document.querySelectorAll('.btn-buy').forEach(btn => {
      btn.addEventListener('click', () => {
        alert('‚úÖ Purchase confirmed!');
      });
    });
  </script>
</body>
</html>